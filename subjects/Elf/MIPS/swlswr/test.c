// test.c
// Generated by decompiling test
// using Reko decompiler version 0.8.0.0.

#include "test.h"

// 00000588: void _init(Register (ptr32 Eq_2) ra)
void _init(Eq_2 * ra)
{
	<anonymous> * r2_11 = globals->ptr10AE0;
	if (r2_11 == null)
	{
		word32 sp_23;
		word32 r28_24;
		word32 r25_25;
		struct Eq_20 * ra_26;
		word32 r2_27;
		(ra->ptr104F4 + 2004)();
		word32 sp_33;
		word32 r28_34;
		word32 r25_35;
		word32 ra_36;
		word32 r2_37;
		(ra_26->ptr104D0 + 0x0970)();
	}
	else
	{
		<anonymous> * r25_12 = globals->ptr10AE0;
		word32 sp_13;
		word32 r28_14;
		word32 r25_15;
		word32 ra_16;
		word32 r2_17;
		r25_12();
	}
}

// 00000610: void __start(Register (ptr32 Eq_38) ra, Stack word32 dwArg00)
void __start(Eq_38 * ra, word32 dwArg00)
{
	<anonymous> * r25_23 = ra->ptr104C0;
	word32 sp_24;
	word32 ra_25;
	word32 r0_26;
	word32 r28_27;
	word32 r4_28;
	word32 r5_29;
	word32 r6_30;
	word32 r1_31;
	word32 r7_32;
	word32 r8_33;
	word32 r2_34;
	word32 r25_35;
	r25_23();
	while (true)
		;
}

// 00000670: void deregister_tm_clones()
void deregister_tm_clones()
{
	word32 r2_8 = globals->dw10AA4;
	if (r2_8 == globals->ptr10AA8 + 2692)
		return;
	<anonymous> * r25_18 = globals->ptr10AE4;
	if (r25_18 == null)
		return;
	word32 sp_19;
	word32 r28_20;
	word32 r25_21;
	word32 r4_22;
	word32 r2_23;
	word32 ra_24;
	r25_18();
}

// 000006A8: void register_tm_clones()
void register_tm_clones()
{
	int32 r5_10 = globals->dw10AA4 - (globals->ptr10AA8 + 2692);
	Eq_84 r2_12 = r5_10 >> 0x02 >> 0x1F;
	if (r2_12 + (r5_10 >> 0x02) >> 0x01 == 0x00)
		return;
	<anonymous> * r25_22 = globals->ptr10AD4;
	if (r25_22 == null)
		return;
	word32 sp_23;
	word32 r28_24;
	word32 r25_25;
	word32 r4_26;
	word32 r5_27;
	word32 r2_28;
	r25_22();
}

// 000006F4: void __do_global_dtors_aux()
void __do_global_dtors_aux()
{
	struct Eq_61 * r19_10 = globals->ptr10AA8;
	if ((word32) r19_10[2800] != 0x00)
		return;
	<anonymous> * r2_43 = globals->ptr10AE8;
	if (r2_43 != null)
	{
		<anonymous> * r25_101 = globals->ptr10AE8;
		word32 sp_104;
		word32 r28_105;
		word32 r25_106;
		word32 ra_108;
		word32 r18_109;
		word32 r17_110;
		word32 r16_111;
		word32 r2_112;
		word32 r4_113;
		word32 r3_114;
		r25_101();
	}
	struct Eq_61 * r17_52 = globals->ptr10AA8;
	struct Eq_61 * r2_50 = globals->ptr10AA8;
	Eq_126 r2_56 = r17_52[0x0AF4];
	Eq_126 r16_58 = (globals->dw10AB0 - (r2_50 + 2664) >> 0x02) + -0x01;
	word32 r18_54 = r2_50 + 2664;
	if ((word32) (r2_56 < r16_58) != 0x00)
	{
		do
		{
			uint32 r2_78 = (word32) r2_56.u1 + 0x01;
			r17_52[0x0AF4] = (struct Eq_61) r2_78;
			<anonymous> ** r2_81 = r18_54 + (r2_78 << 0x02);
			<anonymous> * r25_82 = *r2_81;
			word32 sp_83;
			word32 r28_84;
			word32 r25_85;
			word32 ra_87;
			Eq_126 r16_90;
			word32 r2_91;
			word32 r4_92;
			word32 r3_93;
			r25_82();
			r2_56 = r17_52[0x0AF4];
		} while ((word32) (r2_56 < r16_90) != 0x00);
	}
	if (true)
		deregister_tm_clones();
	else
		r19_10[2800] = (struct Eq_61) 0x01;
}

// 000007D4: void frame_dummy()
void frame_dummy()
{
	register_tm_clones();
}

// 000007F0: void main(Stack word32 dwArg00, Stack word32 dwArg04)
void main(word32 dwArg00, word32 dwArg04)
{
	memset(r4_20, r5_19, r6_18);
	calloc(r4_35, r5_34);
	r2_45->t0000 = dwLoc14;
	r2_45->b0004 = (byte) (word32) bLoc10;
	r2_45->t0000.u0 = 0x0C;
	r2_45->dw0001 = 0x00;
	struct Eq_219 * r2_50 = r2_45;
	Eq_218 r3_52 = dwLoc14;
	struct Eq_219 * r2_62 = r2_45;
}

// 000008C0: void __libc_csu_init(Register (ptr32 Eq_2) ra)
void __libc_csu_init(Eq_2 * ra)
{
	if (true)
		_init(ra);
	else
	{
		word32 * r16_45 = globals->ptr10ABC;
		if (globals->ptr10ABC - r16_45 >> 0x02 != 0x00)
		{
			while (true)
			{
				<anonymous> * r25_68 = *r16_45;
				word32 sp_73;
				word32 r28_74;
				word32 r25_75;
				word32 r21_76;
				word32 r6_77;
				word32 r20_78;
				word32 r5_79;
				word32 r19_80;
				word32 r4_81;
				word32 r18_82;
				word32 r16_83;
				word32 ra_84;
				word32 r17_85;
				r25_68();
				if (r18_82 == r17_85)
					break;
				r16_45 = r16_83 + 0x04;
			}
		}
	}
}

// 00000964: void __libc_csu_fini()
void __libc_csu_fini()
{
}

// 00000970: void __do_global_ctors_aux()
void __do_global_ctors_aux()
{
	struct Eq_61 * r3_7 = globals->ptr10AA8;
	<anonymous> * r25_17 = r3_7[2656];
	if (r25_17 != (<anonymous> *) -0x01)
	{
		do
		{
			word32 sp_30;
			word32 r28_31;
			word32 r25_32;
			word32 r3_33;
			word32 r2_34;
			word32 ra_35;
			word32 r17_36;
			int32 * r16_37;
			r25_17();
		} while (*r16_37 != -0x01);
	}
}

// 000009D0: void __libc_start_main(Register ptr32 r28)
void __libc_start_main(ptr32 r28)
{
	<anonymous> * r25_4 = *(r28 - 0x7FF0);
	word32 sp_8;
	word32 r28_9;
	word32 r25_10;
	word32 ra_11;
	word32 r15_12;
	word32 r24_13;
	r25_4();
}

// 000009E0: void memset(Register ptr32 r28)
void memset(ptr32 r28)
{
	<anonymous> * r25_4 = *(r28 - 0x7FF0);
	word32 sp_8;
	word32 r28_9;
	word32 r25_10;
	word32 ra_11;
	word32 r15_12;
	word32 r24_13;
	r25_4();
}

// 000009F0: void calloc(Register ptr32 r28, Register word32 ra)
void calloc(ptr32 r28, word32 ra)
{
	<anonymous> * r25_4 = *(r28 - 0x7FF0);
	word32 sp_8;
	word32 r28_9;
	word32 r25_10;
	struct Eq_334 * ra_11;
	word32 r15_12;
	word32 r24_13;
	r25_4();
	_fini(ra_11);
}

// 00000A10: void _fini(Register (ptr32 Eq_334) ra)
void _fini(Eq_334 * ra)
{
	word32 sp_16;
	word32 r28_17;
	word32 r25_18;
	word32 ra_19;
	(ra->ptr10084 + 0x06F4)();
}

