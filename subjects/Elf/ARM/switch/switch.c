// switch.c
// Generated by decompiling switch
// using Reko decompiler version 0.8.1.0.

#include "switch.h"

// 000082F0: Register word32 _init(Register out ptr32 r10Out)
word32 _init(ptr32 & r10Out)
{
	word32 r10_5;
	*r10Out = call_gmon_start();
	frame_dummy();
	word32 sp_6;
	return __do_global_ctors_aux(out sp_6);
}

// 00008314: void abort()
void abort()
{
}

// 00008324: void __libc_start_main()
void __libc_start_main()
{
}

// 00008334: void _start(Stack int32 dwArg00, Stack (ptr32 Eq_19) ptrArg08, Stack (ptr32 Eq_20) ptrArg0C, Stack (ptr32 void) ptrArg10)
void _start(int32 dwArg00,  * ptrArg08,  * ptrArg0C, void)
{
	__libc_start_main(globals->ptr8364, dwArg00, fp + 0x04, globals->ptr8368, ptrArg08, ptrArg0C, ptrArg10);
	abort();
}

// 0000836C: Register word32 call_gmon_start()
word32 call_gmon_start()
{
	ptr32 r10_10 = 0x8380 + globals->dw8394;
	<anonymous> * r3_11 = r10_10 + globals->dw8398;
	if (r3_11 == null)
		return r10;
	word32 sp_25;
	word32 r10_26;
	word32 lr_27;
	word32 pc_28;
	word32 r3_29;
	byte NZCV_30;
	byte Z_31;
	r3_11();
	return r10_26;
}

// 0000839C: void __do_global_dtors_aux()
void __do_global_dtors_aux()
{
	byte * r5_10 = globals->ptr83F4;
	if ((word32) *r5_10 != 0x00)
		return;
	<anonymous> *** r4_28 = globals->ptr83F8;
	<anonymous> * r2_30 = **r4_28;
	if (r2_30 == null)
		*r5_10 = 0x01;
	else
	{
		*r4_28 = (<anonymous> ***) ((char *) *r4_28 + 0x04);
		word32 sp_37;
		word32 r4_38;
		word32 r5_39;
		word32 lr_40;
		word32 pc_41;
		word32 r3_42;
		byte NZCV_43;
		byte Z_44;
		word32 r2_45;
		r2_30();
	}
}

// 000083FC: void call___do_global_dtors_aux()
void call___do_global_dtors_aux()
{
}

// 00008404: void frame_dummy()
void frame_dummy()
{
	word32 * r0_3 = globals->ptr8424;
	if (*r0_3 == 0x00)
		return;
	word32 r3_14 = globals->dw8428;
	if (r3_14 == 0x00)
		return;
	word32 sp_17;
	word32 r0_18;
	word32 pc_19;
	word32 r3_20;
	byte NZCV_21;
	byte Z_22;
	fn00000000();
}

// 0000842C: void call_frame_dummy()
void call_frame_dummy()
{
}

// 00008434: Register Eq_125 frobulate(Register Eq_125 r0, Stack Eq_125 dwArg00, Register out ptr32 fpOut)
Eq_125 frobulate(Eq_125 r0, Eq_125 dwArg00, ptr32 & fpOut)
{
	word32 fp_25;
	*fpOut = dwArg00;
	return __divsi3(r0 * r0, 1337);
}

// 00008470: Register word32 bazulate(Register Eq_125 r0, Register Eq_125 r1)
word32 bazulate(Eq_125 r0, Eq_125 r1)
{
	ptr32 fp_23;
	word32 r0_28 = __divsi3(r0 + r1, frobulate(r0, r1, out fp_23));
	word32 * fp_32;
	__divsi3(r0_28, frobulate(*(fp_23 - 0x0018), r1, out fp_32));
	return *fp_32;
}

// 000084D4: Register word32 switcheroo(Register Eq_125 r0)
word32 switcheroo(Eq_125 r0)
{
	ptr32 fp_19;
	switch (r0)
	{
	case 0x00:
	case 0x01:
		goto l00008540;
	case 0x02:
	case 0x03:
	case 0x04:
		frobulate(r0, r0, out fp_19);
		break;
	case 0x05:
	case 0x07:
l00008540:
		fp_19 = bazulate(0x00, 0x00);
		break;
	case 0x06:
		frobulate(r0 - 0x03, r0, out fp_19);
		break;
	case 0x08:
		bazulate(r0, r0);
		goto l00008540;
	}
	return *(fp_19 - -0x04);
}

// 0000855C: void main(Register Eq_125 r0)
void main(Eq_125 r0)
{
	switcheroo(r0);
}

// 00008588: Register Eq_125 __divsi3(Register Eq_125 r0, Register Eq_125 r1)
Eq_125 __divsi3(Eq_125 r0, Eq_125 r1)
{
	Eq_125 r1_103;
	int32 ip_4 = r0 ^ r1;
	Eq_195 r3_105 = 0x01;
	Eq_125 r2_112 = 0x00;
	r1_103 = r1;
	if (r1 < 0x00)
		r1_103 = 0x00 - r1;
	if (r1 == 0x00)
	{
		__div0(r0);
		return 0x00;
	}
	else
	{
		if (r0 < 0x00)
			r0 = 0x00 - r0;
		if (r0 >= r1_103)
		{
			do
			{
				Eq_217 C_131 = cond(r1_103 - 0x10000000);
				if (r1_103 < 0x10000000)
					C_131 = cond(r1_103 - r0);
				if (!C_131)
				{
					r1_103 <<= 0x04;
					r3_105 <<= 0x04;
				}
			} while (C_131);
			do
			{
				Eq_230 C_124 = cond(r1_103 - 0x80000000);
				if (r1_103 < 0x80000000)
					C_124 = cond(r1_103 - r0);
				if (!C_124)
				{
					r1_103 <<= 0x01;
					r3_105 <<= 0x01;
				}
			} while (C_124);
			do
			{
				if (r0 >= r1_103)
				{
					r0 -= r1_103;
					r2_112 |= r3_105;
				}
				if (r0 >= r1_103 >> 0x01)
				{
					r0 -= r1_103 >> 0x01;
					r2_112 |= r3_105 >> 0x01;
				}
				if (r0 >= r1_103 >> 0x02)
				{
					r0 -= r1_103 >> 0x02;
					r2_112 |= r3_105 >> 0x02;
				}
				if (r0 >= r1_103 >> 0x03)
				{
					r0 -= r1_103 >> 0x03;
					r2_112 |= r3_105 >> 0x03;
				}
				Eq_268 Z_100 = cond(r0);
				if (r0 != 0x00)
				{
					r3_105 >>= 0x04;
					Z_100 = cond(r3_105);
				}
				if (!Z_100)
					r1_103 >>= 0x04;
			} while (Z_100);
		}
		Eq_125 r0_35 = r2_112;
		if (ip_4 < 0x00)
			r0_35 = 0x00 - r2_112;
		return r0_35;
	}
}

// 00008638: void __div0(Register Eq_125 r0)
void __div0(Eq_125 r0)
{
	__syscall(0x00900014);
	if (r0 >= 1000)
		return;
	__syscall(0x00900025);
}

// 00008654: void __libc_csu_init()
void __libc_csu_init()
{
	ptr32 r10_17;
	Eq_291 r4_18 = _init(out r10_17);
	int32 r2_20 = globals->dw86AC;
	<anonymous> * r1_21[] = r10_17 + globals->dw86A8;
	int32 r3_23 = r10_17 + r2_20 - r1_21;
	if (r4_18 >= r3_23 >> 0x02)
		return;
	word32 sp_47;
	word32 r4_48;
	word32 r5_49;
	word32 r6_50;
	word32 r10_51;
	word32 lr_52;
	word32 pc_53;
	word32 r3_54;
	word32 r2_55;
	word32 r1_56;
	byte NZCV_57;
	byte C_58;
	r1_21[r4_18]();
}

// 000086B0: void __libc_csu_fini()
void __libc_csu_fini()
{
	ptr32 r10_15 = 0x86C8 + globals->dw8700;
	int32 r2_14 = globals->dw8708;
	<anonymous> * r1_16[] = r10_15 + globals->dw8704;
	int32 r3_18 = r10_15 + r2_14 - r1_16;
	int32 r4_22 = (r3_18 >> 0x02) - 0x01;
	if (r3_18 >> 0x02 == 0x00)
		_fini();
	else
	{
		word32 sp_37;
		word32 r4_38;
		word32 r5_39;
		word32 r10_40;
		word32 lr_41;
		word32 pc_42;
		word32 r3_43;
		word32 r2_44;
		word32 r1_45;
		byte NZCV_46;
		byte Z_47;
		r1_16[r4_22]();
	}
}

// 0000870C: Register word32 __do_global_ctors_aux(Register out ptr32 spOut)
word32 __do_global_ctors_aux(ptr32 & spOut)
{
	<anonymous> * r2_9 = *(globals->ptr8740 - 0x04);
	if (r2_9 != (<anonymous> *) 0x01)
	{
		word32 sp_27;
		word32 r4_28;
		word32 lr_29;
		word32 r3_30;
		word32 pc_31;
		word32 r2_32;
		byte NZCV_33;
		byte Z_34;
		r2_9();
		return r4_28;
	}
	else
	{
		word32 sp_23;
		*spOut = fp;
		return r4;
	}
}

// 00008744: void call___do_global_ctors_aux()
void call___do_global_ctors_aux()
{
}

// 0000874C: void _fini()
void _fini()
{
	__do_global_dtors_aux();
}

